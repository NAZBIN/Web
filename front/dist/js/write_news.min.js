function News(){}News.prototype.listenUploadEvent=function(){var n=$("#thumbnail-btn");n.change(function(){var e=n[0].files[0],t=new FormData;t.append("file",e),xfzajax.post({url:"/cms/upload_file/",data:t,processData:!1,contentType:!1,success:function(e){if(200===e.code){var t=$("#thumbnail-form"),n=e.data.url;t.val(n)}}})})},News.prototype.listenQiniuUploadEvent=function(){var s=this;$("#thumbnail-btn").change(function(){var a=this.files[0];xfzajax.get({url:"/cms/qntoken/",success:function(e){if(200===e.code){var t=e.data.token,n=(new Date).getTime()+"."+a.name.split(".")[1],o={fname:n,params:{},mimeType:["image/png","image/jpeg","image/gif"]},i={useCdnDomain:!0,retryCount:6,region:qiniu.region.z0};qiniu.upload(a,n,t,o,i).subscribe({next:s.updateUploadProgress,error:s.uploadErrorEvent,complete:s.complateUploadEvent})}}})})},News.prototype.updateUploadProgress=function(e){var t=e.total.percent,n=t.toFixed(0)+"%",o=$("#progress"),i=$("#progress-bar");o.show(),100===t.toFixed(0)&&o.hide(),i.css({width:n}),i.text(n),console.log(t)},News.prototype.uploadErrorEvent=function(e){window.messageBox.showError(e.message),console.log(e.message)},News.prototype.complateUploadEvent=function(e){console.log(e);var t="http://pw9l7i5q6.bkt.clouddn.com/"+e.key;$("#thumbnail-form").val(t)},News.prototype.initUeditor=function(){window.ue=UE.getEditor("editor",{serverUrl:"/ueditor/upload/",initialFrameHeight:400})},News.prototype.listenWriteNewsEvent=function(){$("#submit-btn").click(function(){event.preventDefault();var e=$(this).attr("data-news-id"),t=$("input[name='title']").val(),n=$("select[name='category']").val(),o=$("input[name='desc']").val(),i=$("input[name='thumbnail']").val(),a=window.ue.getContent(),s="";s=e?"/cms/edit_news/":"/cms/write_news/",xfzajax.post({url:s,data:{title:t,category:n,desc:o,thumbnail:i,content:a,pk:e},success:function(e){200===e.code&&xfzalert.alertSuccess("恭喜！新闻发表成功",function(){window.location.reload()})}})})},News.prototype.run=function(){var e=this;e.listenQiniuUploadEvent(),e.initUeditor(),e.listenWriteNewsEvent()},$(function(){(new News).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlX25ld3MuanMiXSwibmFtZXMiOlsiTmV3cyIsInByb3RvdHlwZSIsImxpc3RlblVwbG9hZEV2ZW50IiwidXBsb2FkQnRuIiwiJCIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwic3VjY2VzcyIsInJlc3VsdCIsInVwbG9hZElucHV0IiwidmFsIiwibGlzdGVuUWluaXVVcGxvYWRFdmVudCIsInNlbGYiLCJ0aGlzIiwiZ2V0IiwidG9rZW4iLCJrZXkiLCJEYXRlIiwiZ2V0VGltZSIsIm5hbWUiLCJzcGxpdCIsInB1dEV4dHJhIiwiZm5hbWUiLCJwYXJhbXMiLCJtaW1lVHlwZSIsImNvbmZpZyIsInVzZUNkbkRvbWFpbiIsInJldHJ5Q291bnQiLCJyZWdpb24iLCJxaW5pdSIsInowIiwidXBsb2FkIiwic3Vic2NyaWJlIiwibmV4dCIsInVwZGF0ZVVwbG9hZFByb2dyZXNzIiwiZXJyb3IiLCJ1cGxvYWRFcnJvckV2ZW50IiwiY29tcGxldGUiLCJjb21wbGF0ZVVwbG9hZEV2ZW50IiwicmVzcG9uc2UiLCJwZXJjZW50IiwidG90YWwiLCJwZXJjZW50VGV4dCIsInRvRml4ZWQiLCJwcm9ncmVzcyIsInByb2dyZXNzYmFyIiwic2hvdyIsImhpZGUiLCJjc3MiLCJ3aWR0aCIsInRleHQiLCJjb25zb2xlIiwibG9nIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJpbml0VWVkaXRvciIsInVlIiwiVUUiLCJnZXRFZGl0b3IiLCJzZXJ2ZXJVcmwiLCJpbml0aWFsRnJhbWVIZWlnaHQiLCJsaXN0ZW5Xcml0ZU5ld3NFdmVudCIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBrIiwiYXR0ciIsInRpdGxlIiwiY2F0ZWdvcnkiLCJkZXNjIiwidGh1bWJuYWlsIiwiY29udGVudCIsImdldENvbnRlbnQiLCJ4ZnphbGVydCIsImFsZXJ0U3VjY2VzcyIsImxvY2F0aW9uIiwicmVsb2FkIiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxRQUtUQSxLQUFLQyxVQUFVQyxrQkFBb0IsV0FDL0IsSUFBSUMsRUFBWUMsRUFBRSxrQkFDbEJELEVBQVVFLE9BQU8sV0FDYixJQUFJQyxFQUFPSCxFQUFVLEdBQUdJLE1BQU0sR0FDMUJDLEVBQVcsSUFBSUMsU0FDbkJELEVBQVNFLE9BQU8sT0FBUUosR0FDeEJLLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxvQkFDUEMsS0FBUU4sRUFDUk8sYUFBZSxFQUNmQyxhQUFlLEVBQ2ZDLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJQyxFQUFjZixFQUFFLG1CQUNoQlMsRUFBTUssRUFBYSxLQUFPLElBQzlCQyxFQUFZQyxJQUFJUCxVQU9wQ2IsS0FBS0MsVUFBVW9CLHVCQUF5QixXQUNwQyxJQUFJQyxFQUFPQyxLQUNLbkIsRUFBRSxrQkFDUkMsT0FBTyxXQUNiLElBQUlDLEVBQU9pQixLQUFLaEIsTUFBTSxHQUN0QkksUUFBUWEsSUFBSSxDQUNSWCxJQUFPLGdCQUNQSSxRQUFXLFNBQVVDLEdBQ2pCLEdBQXVCLE1BQW5CQSxFQUFhLEtBQVcsQ0FFeEIsSUFBSU8sRUFBUVAsRUFBYSxLQUFTLE1BQzlCUSxHQUFNLElBQUtDLE1BQVFDLFVBQVksSUFBTXRCLEVBQUt1QixLQUFLQyxNQUFNLEtBQUssR0FDMURDLEVBQVcsQ0FDWEMsTUFBT04sRUFDUE8sT0FBUSxHQUNSQyxTQUFVLENBQUMsWUFBYSxhQUFjLGNBRXRDQyxFQUFTLENBQ1RDLGNBQWMsRUFDZEMsV0FBWSxFQUNaQyxPQUFRQyxNQUFNRCxPQUFPRSxJQUVSRCxNQUFNRSxPQUFPbkMsRUFBTW9CLEVBQUtELEVBQU9NLEVBQVVJLEdBQy9DTyxVQUFVLENBQ2pCQyxLQUFRckIsRUFBS3NCLHFCQUNiQyxNQUFTdkIsRUFBS3dCLGlCQUNkQyxTQUFZekIsRUFBSzBCLDZCQVF6Q2hELEtBQUtDLFVBQVUyQyxxQkFBdUIsU0FBU0ssR0FDM0MsSUFDSUMsRUFEUUQsRUFBU0UsTUFDREQsUUFDaEJFLEVBQWNGLEVBQVFHLFFBQVEsR0FBRyxJQUNqQ0MsRUFBV2xELEVBQUUsYUFDYm1ELEVBQWNuRCxFQUFFLGlCQUNwQmtELEVBQVNFLE9BQ2UsTUFBckJOLEVBQVFHLFFBQVEsSUFDZkMsRUFBU0csT0FFYkYsRUFBWUcsSUFBSSxDQUFDQyxNQUFRUCxJQUN6QkcsRUFBWUssS0FBS1IsR0FDakJTLFFBQVFDLElBQUlaLElBR2hCbEQsS0FBS0MsVUFBVTZDLGlCQUFtQixTQUFTRCxHQUN2Q2tCLE9BQU9DLFdBQVdDLFVBQVVwQixFQUFNcUIsU0FDbENMLFFBQVFDLElBQUlqQixFQUFNcUIsVUFFdEJsRSxLQUFLQyxVQUFVK0Msb0JBQXNCLFNBQVNDLEdBQzFDWSxRQUFRQyxJQUFJYixHQUNaLElBRUlwQyxFQURTLG9DQURFb0MsRUFBU3ZCLElBR050QixFQUFFLG1CQUNSZ0IsSUFBSVAsSUFJcEJiLEtBQUtDLFVBQVVrRSxZQUFjLFdBQ3pCSixPQUFPSyxHQUFLQyxHQUFHQyxVQUFVLFNBQVUsQ0FDL0JDLFVBQWEsbUJBQ2JDLG1CQUFzQixPQUs5QnhFLEtBQUtDLFVBQVV3RSxxQkFBdUIsV0FFbEJyRSxFQUFFLGVBQ1JzRSxNQUFNLFdBQ1pDLE1BQU1DLGlCQUNOLElBQ0lDLEVBRE16RSxFQUFFbUIsTUFDQ3VELEtBQUssZ0JBRWRDLEVBQVEzRSxFQUFFLHVCQUF1QmdCLE1BQ2pDNEQsRUFBVzVFLEVBQUUsMkJBQTJCZ0IsTUFDeEM2RCxFQUFPN0UsRUFBRSxzQkFBc0JnQixNQUMvQjhELEVBQVk5RSxFQUFFLDJCQUEyQmdCLE1BQ3pDK0QsRUFBVXBCLE9BQU9LLEdBQUdnQixhQUVwQnZFLEVBQU0sR0FFTkEsRUFERGdFLEVBQ08sa0JBRUEsbUJBR1ZsRSxRQUFRQyxLQUFLLENBQ1RDLElBQU1BLEVBQ05DLEtBQU8sQ0FDSGlFLE1BQVFBLEVBQ1JDLFNBQVdBLEVBQ1hDLEtBQU9BLEVBQ1BDLFVBQVlBLEVBQ1pDLFFBQVVBLEVBQ1ZOLEdBQUtBLEdBRVQ1RCxRQUFVLFNBQVVDLEdBQ0ksTUFBakJBLEVBQWEsTUFDWm1FLFNBQVNDLGFBQWEsWUFBWSxXQUM5QnZCLE9BQU93QixTQUFTQyxpQkFXeEN4RixLQUFLQyxVQUFVd0YsSUFBTSxXQUNqQixJQUFJbkUsRUFBT0MsS0FFWEQsRUFBS0QseUJBQ0xDLEVBQUs2QyxjQUNMN0MsRUFBS21ELHdCQUlUckUsRUFBRSxZQUNhLElBQUlKLE1BQ1Z5RiIsImZpbGUiOiJ3cml0ZV9uZXdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5ld3MoKSB7XHJcblxyXG59XHJcblxyXG4vL+S4iuS8oOWbvueJh+WIsOacrOacuuacjeWKoeWZqFxyXG5OZXdzLnByb3RvdHlwZS5saXN0ZW5VcGxvYWRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB1cGxvYWRCdG4gPSAkKFwiI3RodW1ibmFpbC1idG5cIik7XHJcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHVwbG9hZEJ0blswXS5maWxlc1swXTtcclxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvdXBsb2FkX2ZpbGUvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZElucHV0ID0gJChcIiN0aHVtYm5haWwtZm9ybVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0WydkYXRhJ11bJ3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZElucHV0LnZhbCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5OZXdzLnByb3RvdHlwZS5saXN0ZW5RaW5pdVVwbG9hZEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHVwbG9hZEJ0biA9ICQoXCIjdGh1bWJuYWlsLWJ0blwiKTtcclxuICAgIHVwbG9hZEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlc1swXTtcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9xbnRva2VuLycsXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWFhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyAnLicgKyBmaWxlLm5hbWUuc3BsaXQoJy4nKVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHV0RXh0cmEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuYW1lOiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBbJ2ltYWdlL3BuZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2dpZiddXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VDZG5Eb21haW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQ6IDYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcWluaXUucmVnaW9uLnowICAvL+WNjuS4nOWcsOWMulxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBxaW5pdS51cGxvYWQoZmlsZSwga2V5LCB0b2tlbiwgcHV0RXh0cmEsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5leHRcIjogc2VsZi51cGRhdGVVcGxvYWRQcm9ncmVzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlcnJvclwiOiBzZWxmLnVwbG9hZEVycm9yRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tcGxldGVcIjogc2VsZi5jb21wbGF0ZVVwbG9hZEV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbk5ld3MucHJvdG90eXBlLnVwZGF0ZVVwbG9hZFByb2dyZXNzID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgdmFyIHRvdGFsID0gcmVzcG9uc2UudG90YWw7XHJcbiAgICB2YXIgcGVyY2VudCA9IHRvdGFsLnBlcmNlbnQ7XHJcbiAgICB2YXIgcGVyY2VudFRleHQgPSBwZXJjZW50LnRvRml4ZWQoMCkrJyUnO1xyXG4gICAgdmFyIHByb2dyZXNzID0gJChcIiNwcm9ncmVzc1wiKTtcclxuICAgIHZhciBwcm9ncmVzc2JhciA9ICQoXCIjcHJvZ3Jlc3MtYmFyXCIpO1xyXG4gICAgcHJvZ3Jlc3Muc2hvdygpO1xyXG4gICAgaWYocGVyY2VudC50b0ZpeGVkKDApPT09MTAwKXtcclxuICAgICAgICBwcm9ncmVzcy5oaWRlKCk7XHJcbiAgICB9XHJcbiAgICBwcm9ncmVzc2Jhci5jc3Moeyd3aWR0aCc6cGVyY2VudFRleHR9KTtcclxuICAgIHByb2dyZXNzYmFyLnRleHQocGVyY2VudFRleHQpO1xyXG4gICAgY29uc29sZS5sb2cocGVyY2VudCk7XHJcblxyXG59O1xyXG5OZXdzLnByb3RvdHlwZS51cGxvYWRFcnJvckV2ZW50ID0gZnVuY3Rpb24oZXJyb3Ipe1xyXG4gICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbn07XHJcbk5ld3MucHJvdG90eXBlLmNvbXBsYXRlVXBsb2FkRXZlbnQgPSBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICB2YXIgZmlsZW5hbWUgPSByZXNwb25zZS5rZXk7XHJcbiAgICB2YXIgZG9tYWluID0gJ2h0dHA6Ly9wdzlsN2k1cTYuYmt0LmNsb3VkZG4uY29tLyc7XHJcbiAgICB2YXIgdXJsID0gZG9tYWluK2ZpbGVuYW1lO1xyXG4gICAgdmFyIHVwbG9hZElucHV0ID0gJChcIiN0aHVtYm5haWwtZm9ybVwiKTtcclxuICAgIHVwbG9hZElucHV0LnZhbCh1cmwpO1xyXG59O1xyXG5cclxuXHJcbk5ld3MucHJvdG90eXBlLmluaXRVZWRpdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LnVlID0gVUUuZ2V0RWRpdG9yKCdlZGl0b3InLCB7XHJcbiAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJyxcclxuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogNDAwXHJcblxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5OZXdzLnByb3RvdHlwZS5saXN0ZW5Xcml0ZU5ld3NFdmVudCA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoXCIjc3VibWl0LWJ0blwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgYnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgcGsgPSBidG4uYXR0cignZGF0YS1uZXdzLWlkJyk7XHJcblxyXG4gICAgICAgIHZhciB0aXRsZSA9ICQoXCJpbnB1dFtuYW1lPSd0aXRsZSddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjYXRlZ29yeSA9ICQoXCJzZWxlY3RbbmFtZT0nY2F0ZWdvcnknXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgZGVzYyA9ICQoXCJpbnB1dFtuYW1lPSdkZXNjJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHRodW1ibmFpbCA9ICQoXCJpbnB1dFtuYW1lPSd0aHVtYm5haWwnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgY29udGVudCA9IHdpbmRvdy51ZS5nZXRDb250ZW50KCk7XHJcblxyXG4gICAgICAgIHZhciB1cmwgPSAnJztcclxuICAgICAgICBpZihwayl7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL2VkaXRfbmV3cy8nXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL3dyaXRlX25ld3MvJ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6dXJsLFxyXG4gICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzp0aXRsZSxcclxuICAgICAgICAgICAgICAgICdjYXRlZ29yeSc6Y2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAnZGVzYyc6ZGVzYyxcclxuICAgICAgICAgICAgICAgICd0aHVtYm5haWwnOnRodW1ibmFpbCxcclxuICAgICAgICAgICAgICAgICdjb250ZW50Jzpjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ3BrJzpwa1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzcygn5oGt5Zac77yB5paw6Ze75Y+R6KGo5oiQ5YqfJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLy/mt7vliqDngrnlh7vkuovku7ZcclxuICAgIC8v6I635Y+WaW5wdXTnmoTlgLxcclxuICAgIC8vYWpheOWPkemAgeivt+axglxyXG59O1xyXG5cclxuTmV3cy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gc2VsZi5saXN0ZW5VcGxvYWRFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5RaW5pdVVwbG9hZEV2ZW50KCk7XHJcbiAgICBzZWxmLmluaXRVZWRpdG9yKCk7XHJcbiAgICBzZWxmLmxpc3RlbldyaXRlTmV3c0V2ZW50KCk7XHJcblxyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbmV3cyA9IG5ldyBOZXdzKCk7XHJcbiAgICBuZXdzLnJ1bigpO1xyXG5cclxufSk7Il19
